var popupObjects=[],removePopupObject=function(e){null!=e&&null!=popupObjects[e]&&(popupObjects[e].overlayOpen=!1)},sendResizeMessage=function(e){null!=e&&null!=popupObjects[e]&&chrome.tabs.sendMessage(e,{message:"resize-canvas"})},welcomePageStorageKey="webPageCanvas_welcomePage";chrome.runtime.onMessage.addListener(function(e,o,a){return e.hasOwnProperty("message")&&(o.hasOwnProperty("tab")?"get-tool-info"==e.message?a(popupObjects[o.tab.id]):"manually-disabled-canvas"==e.message&&(popupObjects[o.tab.id].overlayOpen=!1):"init-object"==e.message&&e.hasOwnProperty("tabID")&&(null!=popupObjects[e.tabID]?a({message:"sending-popup-object-data",data:popupObjects[e.tabID]}):a({message:"do-it-yourself"}))),!0}),chrome.tabs.onZoomChange.addListener(sendResizeMessage),chrome.tabs.onUpdated.addListener(removePopupObject),chrome.tabs.onRemoved.addListener(removePopupObject),window.onload=function(){chrome.storage.local.get(welcomePageStorageKey,function(e){null!=e[welcomePageStorageKey]&&e[welcomePageStorageKey]||(chrome.tabs.create({url:chrome.extension.getURL("about/about.html")}),chrome.storage.local.set({[welcomePageStorageKey]:!0}))})};